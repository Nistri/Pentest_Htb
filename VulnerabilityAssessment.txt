Vulnerability Assessment:
Security Assessments:
1. Security Assessments:
- Jedes Unternehmen muss verschiedene Arten von Sicherheitsbewertungen fuer sein Netzwerk, Computer und Anwendungen durchfuehren
- Der Hauptzweck besteht, darin Schwachstellen zu finden und sie zu bestaetigen, sodass wir sie beseitigen koennen

- Vulnerability Assessment:
	- Schwachstellenbewertungen sind fuer alle Organisationen und Netzwerke geeignet
	- Eine Schwachstellenbewertung kann auf verschiedenen Sicherheitsstandards beruhen
	- Schwachstellenbewertungen koennen je nach Situation unabhaengig oder innerhalb eines Unternehmen durchgefuehrt werden

- Penetration Test:
	- Penetrations Test werden verwendet um einen Weg in ein Netzwerk zu bekommen
	- Bei Blackbox Pentests hat der Angreifer keine Informationen ueber das Unternehmen ausser die IP-Adresse
	- Bei einem Greybox Pentest hat der Angreifer wenige Kentnisse und greifen aus der Sicht eines Mitarbeiter an
	- Bei einem Whitebox Pentest hat der Angreifer vollstaendigen Zugang zu allen Systemen
	- Anwendungs Pentester bewerten Web-Anwendungen
	- Network oder Infrastruktur Pentester bewerten alle Aspekte eines Computer Netzwerks
	- Physische Pentester suchen Schwachstellen in der physischen Infrastruktur

- Vulnerability Assessments vs. Penetration Tests:
	- Schwachstellenbewertung und Penetrationstest sind verschiedene Tests
	- Schwachstellenbewertungen suchen nach Schwachstellen in einem Netzwerk 
	- Pentesting such einen Eingang zu einem System und bewertet die Sicherheit einer Organisation

- Other Types of Security Assessments:
	- Schwachstellenbewertungen und Penetrationstest sind nicht die einzigen Arten von Sicherheitsbewertugnen

	- Security Audits:
		- Security Audits werden meistens von staatlicher Stelle oder Industrieverbaenden aufgelegt, damit die Unternehmen verschiedenen Regeln einhalten
	
	- Bug Bounties:
		- Bug Bounties Programme werden von vielen Unternehmen unterhalten und soregen dafuer, dass die Anwendugnen von Unternehmen sicherere werden

	- Red Team Assessment:
		- Grosse Unternehmen haben ein eigenes Red Team oder benutzten eine externe Beratungsfirma 
		- Diese Teams fuehren black box Sicherheitstest durch

	- Purple Team Assessment:
		- Ein Blue Team besteht aus Defensiven Sicherheitsexperten
		- Ein Puruple Team besteht aus Blue und Red Teams die zusammen arbeiten um die Sicherheit des Systems zu verbessern

2. Vulnerability Assessments:
- Bei einer Sicherheitsbewertung bewerten Schwachstellen nutzen diese aber nicht aus
- Sicherheitsbewertgungen werden meistens automatisiert durchgefuehrt

- Understanding Key Terms:
	- Es ist wichtig Schluesselbegriffe ueber Infosec zu verstehen
	- Vulnerability:
		- Eine Schwachstelle ist ein Bug in einer Organisation Umgebung
		- Schwachstellen werden mit dem CVSS System bewertet
	- Threat:
		- Eine Bedrohung ist ein Prozess der das Potenial erhoeht
	- Exploit:
		- Ein Exploit ist jeder Code der dafuer verwendet wird um eine Schwachstelle auszunutzen
	- Risk:
		- Ist die Wahrscheinlichkeit, dass Daten oder Vermoegungswerte beschaedigt oder zerstoert werden koennen

- Asset Managament:
	- In einem Asset Managament wird geklaert was beschuetzt werden muss

	- Asset Inventory:
		- Die Bestandaufnahme der Anlagen ist der wichtigste Teil des Schwachstellenmanagement
		- Hier muss geklaert werden welche Anlagen ein Netzwerk hat

3. Assessments Standards:
- Penetrationstest sowie Schwachstellenberwertungen sollen bestimmten Standards entsprechen

- Compliance Standards:
	- Jede Aufsichtsbehoerde hat eigene Sicherheitsstandards die Organisationen einhalten muessen
	- Organisationen muessen Standards einhalten um akkrediert zu werden

	- Payment Card Industry Data Security Standard (PCI DSS):
		- PCI DSS ist ein bekannter Standard fuer Informationssicherheit fuer Unternehmen die it Kreditkarten arbeiten
		- Alle Unternehmen muessen diesen Standard einhalten wie Amazon
		- Dazu gehoeren externe und interne Scanns von Anlagen
		- Dazu gehoert wie mit Daten umgegangen werden soll

	- Health Insurance Portability and Accountability Act (HIPAA):
		- HIPAA ist der Standard um Pantientendaten zu beschuetzen

	- Federal Information Security Management Act (FISMA):
		- FISMA ist der Standard fuer staatliche Informationen

- Penetration Testing Standards:
	- Penetrationstest sollten immer mit Richtlinien und Regeln ausgefuehrt werden
	- Es sollte einen definierten Umfang fuer einen Penetrationstest haben, ausserdem sollte so wenig Schaden wie moeglich zugefuegt werden
	- Standards fuer Penetrationstest sind PTES, OSSTMM, NIST und OWASP

###################################################################################################
Vulnerability Scoring and Reporting:
1. Common Vulnerability Scoring Systems(CVSS):
- Es gibt verschiedene Moeglichkeiten Schwachstellen zu bewerten oder deren Schwere zu berechnen
- CVSS ist eine Bewertungsskala und ist Industriestandard
- Es gibt 5 Faktoren die die Bewertung zusammensetzen:
	- Schaedigungspotenzial
	- Reproduzierbarkeit
	- Ausnutzbarkeit
	- Betroffener Nutzer
	- Entdeckbarkeit

2. Common Vulnerabilities and Exposures(CVE):
- OVAL ist ein oeffentlich zugaenglicher internationaler Standard fuer Informationssicherheit
- OVAL wird auch vom Security Content Automation Protocol(SCAP) des US.National Institute of Standards and Technology (NIST) verwendet

- OVAL Process:
	- Es gibt eine 3 Stufen Struktur:
		- Identifizierung der zu testenden Systemkonfigurationen
		- Bewertung des aktuellen Systemzustands
		- Offenlegung der Informationen in einem Bericht

Common Vulnerabilities and Exposures (CVE):
	- CVE ist ein oeffentlich zugaenglicher Katalog von Sicherheitsproblemen der vom United States Department of Homeland Security(DHS) gefoerdert wird
	- Jedes Sicherheitsproblem hat eine eindeutige CVE-ID Nummer die vom CVE Numbering Authority(CNA) vergeben wird

Stages of Obtaining a CVE:
	- Stage 1: Identify if CVE is Required and Relevant:
		- Identifizierung ob das Problem eine Schwachstelle ist
	- Stage 2: Reach Out to Affected Product Vendor
		- Ein Forscher sollte sich vergewissern, dass er sich in gutem Glauben bemueht, einen Anbieter direkt zu kontaktieren
	- Stage 3: Identify if Request Should Be For Vendor CNA or Third Party CNA:
		- Wenn ein Problem eine Teilnehmer von CNA betrifft koennen Forscher die CNA-Orgranisation kontaktieren
	- Stage 4: Requesting CVE ID Through CVE Web Form:
		- CVE hat ein Formular, das online ausgefuellt werden kann wenn Schritt 3 nicht funktioniert
	- Stage 5: Confirmation of CVE Form:
		- NBach dem Absenden des CVE Formulars bekommt der Forscher eine Bestaetigungs-Email
	- Stage 6: Receival of CVE ID:
		- Nach der Genehmigung wird das CVE-Team den Antragssteller ueber eine CVE-ID benachrichtigt
	- Stage 7: Public Disclosure of CVE ID:
		- Wenn die Schwachstellen behoben worden sind koennen die Schwachstellen oeffentlich gemacht werden
	- Stage 8: Announcing the CVE:
		- CVE bittet Forscher CVE fuer jede Schwachstelle einzeln abzugeben
	- Stage 9: Providing Information to The CVE Team:
		- Das CVE-Team bittet den Forscher um zusaetzliche Informationen zur Verfuegung zu stellen

###################################################################################################
Nessus
1. Vulnerability Scanning Overview:
- Schwachstellen-Scans werden durchgefuehrt um potenzielle Schwachstellen in Geraeten zu finden
- Das Scannen ist automatisiert und konzentriert sich auf das Auffinden vom bekannten Schwachstellen im Netzwerk
- Ein Schwachstellen Scan ist meistens Teil eines Standard Penetrationstest
- Nessus, Nexpose und Qualys sind bekannte Plattformen zum Scannen von Sicherheitsluecke
- OpenVAS ist die open-source Alternative

- Nessus Overview:
	- Nessus Essentials von Tenable ist die kostenlose Version von Nessus Vulnerability Scanners
	- Der kostenloser Scanner wird versuchen, Schwachstellen in einer Umgebung zu identifizieren

- OpenVAS Overview:
	- OpenVAS von Greenbone Networks ist ein Open-Source-Scanner fuer Schwachstellen
	- OpenVAS kann Netzwerk-Scans durchfuehren einschliesslich authentifzierter und unauthentifizierter Tests

2. Getting Started with Nessus:
- Install Nessus

3. Nessus Scan:
- Begin to Scan with Nessus
- Es gibt viele Arten von Scans wie Basic Network Scan, Advanced Scan, Malware Scan, Web Application Tests, usw

4. Advanced Settings:
- Policies:
	- Policies sind angepasste Scans
	- Policies koennen fuer jedes Szenario erstellt werden ob web-focused scan, scan of credentials usw

- Plugins:
	- Nessus Plugins werden in Nessus Attack Scripting Language(NASL) geschrieben
	- Plugins werden nach ihrem Sicherheitslevel(Critical, High, Medium, Low, Info) bewertet
	- Auf der tenable gibt es eine Datenbank von Plugins: https://www.tenable.com/plugins

- Scanning with Credentials:
	- Fuer Windows und Linux koennen Passwoerter und Benutzer mitgegeben werden

5. Working with Nessus Scan Output:
- Der Nessus Scan Output kann in verschiedenster Form exportiert werden um mit Tools wie EyeWitness weiterzugeben
- Nessus Reports:
	- Nessus Scans koennen als PDF,HTML oder CSV angezeigt werden
- Exporting Nessus Scans:
	- Scans koennen in zwei Arten exportiert werden in scan.nessus und scan.db Format
	- .nessus Dateien sind in XML Format und enthalten eine Kopie der Scan Einstellungen und Plugin Output
	- .db Dateien enthalten eine .nessus Datei, Scan Attachments, Plugin Audit Trails und Scans KB

6. Scanning Issues:
- Manchmal geben Scans auch falsche Ausgaben aus
- Scans sollten immer mit dem Kunden abgesprochen werden
- Mitigating Issues:
	- Einige Firewalls sorgen dafuer, das alle Ports offen oder keine Ports als offen angezeigt werden
	- Die Loesung besteht darin, dass die Option Piung the remote host deaktiviert wird. Dadurch wird ICMP verhindert.
	- Manche Firewalls geben "ICMP Unreachable" zurueck, Nessus zeigt diese Host dann als aktiv an

- Network Impact:
	- Es ist auch wichtig, die potenziellen Auswirkungen von Schwachstellen-Scans auf ein Netzwerk zu berücksichtigen, insbesondere bei geringer Bandbreite oder überlasteten Verbindungen. Dies kann mit <vnstat> gemessen werden
	- sudo vnstat -l -i <NETWORK_ADAPTER>

7. Nessus Skills Assessment:
https://localhost:8834
- Company: Inlanefreight 
- Target-Server: Windows Server used as Development Server
- Peform BASIC NETWORK SCAN
- SCAN all Ports
- Target: 172.16.16.100
- Credentials: administrator:Academy_VA_adm1!

###################################################################################################
OpenVAS
1. Getting Started with OpenVAS:
- OpenVAS von Greenbone Networks ist ein Open-Source Schwachstellen Scanner
- gvm-setup um OpenVAS zu konfigurieren
- gvm-start um OpenVAS zu starten

2. OpenVAS Scan:
- IP https://<IP>:8080
- Username: htb-student
- Password: HTB_@cademy_student!
- Windows-Target: 172.16.16.100
- Linux-Target: 172.16.16.160
- Linux-Credential: htb-student_adm:HTB_@cademy_student!
- Windows-Credential: administrator:Academy_VA_adm1!

3. Exporting The Results:
- Der Output kann als XML Datei erfolgen
- Mit dem Tool openvasreporting kann aus der XML Datei ein Excel Datei geschrieben werden

4. OpenVAS Skills Assessments:
- OpenVAS Default
- Full and Fast config 
- Target: 172.16.16.160
- Credentials: root:HTB_@cademy_admin!

###################################################################################################
Reporting:
- Soft Skills sind sehr wichtig fuer eine Rolle als Pentester
- Ein guter Bereicht besteht aus folgenden Abschnitten:
	- Zusammenfassung
	- Ueberblick ueber die Bewertung
	- Umfang und Dauer
	- Schwachstellen und Empfehlungen

- Executive Summary:
	- Eine Zusammenfassung eines Schwachstellenbewertungsbericht soll von einer Fuehrungskraft gelesen werden, die sich einen Ueberblick ueber die Schwere verschaffen koennen
	- Die Anzahl der Schwachstellen kann je nach Schweregrad dargestellt werden

- Overview of Assessment:
	- Sollte alle Methoden enthalten, die waehrend der Bewertung eingesetzt worden sind
	- In der Methodik sollte die Durchfuehrung der Bewertung detailliert beschrieben werden

- Umfang und Dauer:
	- Soll alles beschreiben, was der Kunde fuer die Bewertung genehmigt hat, einschliesslich Zielumfang und Dauer

- Schwachstellen und Empfehlungen:
	- Hier sollten alle Schwachstellen aufgelistet werden
	- Am besten werden Schwachstellen nach ihrem Schweregrad gruppiert
	- Jede Schwachstelle sollte folgende Element enthalten:
		- Name der Sicherheitslücke
		- CVE
		- CVSS
		- Beschreibung des Problems
		- Hinweise
		- Schritte zur Behebung
		- Nachweis des Konzepts
		- Betroffene Systeme


